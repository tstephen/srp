<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:tns="http://sourceforge.net/bpmn/definitions/_1446819276528" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:yaoqiang="http://bpmn.sourceforge.net" exporter="Yaoqiang BPMN Editor" exporterVersion="4.0" expressionLanguage="http://www.w3.org/1999/XPath" id="_1446819276528" name="" targetNamespace="http://sourceforge.net/bpmn/definitions/_1446819276528" typeLanguage="http://www.w3.org/2001/XMLSchema" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL http://bpmn.sourceforge.net/schemas/BPMN20.xsd">
  <message id="srp.abatementplan" name="srp.abatementplan"/>
  <process id="RecordAbatementPlan" isClosed="false" isExecutable="true" name="Record a new abatement plan" processType="None">
    <documentation id="RecordAbatementPlan_D_1" textFormat="text/plain"><![CDATA[Record an organisation specific result from the sustainability planner]]></documentation>
    <extensionElements>
      <yaoqiang:pageFormat height="841.8897637795276" imageableHeight="831.8897637795276" imageableWidth="588.1102362204724" imageableX="5.0" imageableY="5.0" orientation="0" width="598.1102362204724"/>
      <yaoqiang:page background="#FFFFFF" horizontalCount="1" verticalCount="1"/>
    </extensionElements>
    <startEvent id="_2" isInterrupting="true" name="srp.abatementplan" parallelMultiple="false">
      <outgoing>_4</outgoing>
      <outputSet/>
      <messageEventDefinition id="_2_ED_1" messageRef="srp.abatementplan"/>
    </startEvent>
    <endEvent id="_9" name="End Event">
      <incoming>_10</incoming>
      <inputSet/>
    </endEvent>
    <sequenceFlow id="_10" sourceRef="addActivityToContact" targetRef="_9"/>
    <sequenceFlow id="_4" sourceRef="_2" targetRef="createSupplier"/>
    <callActivity calledElement="UpdateContact" completionQuantity="1" id="createSupplier" isForCompensation="false" name="Add plan to contact" startQuantity="1">
      <extensionElements>
        <activiti:in source="srp_abatementplan" target="contact"/>
        <activiti:in sourceExpression="${srp_abatementplan.getString('tenantId')}" target="tenantId"/>
      </extensionElements>
      <incoming>_4</incoming>
      <outgoing>_3</outgoing>
    </callActivity>
    <callActivity calledElement="AddActivityToContact" completionQuantity="1" id="addActivityToContact" isForCompensation="false" name="Add activity to contact" startQuantity="1">
      <extensionElements>
        <activiti:in source="srp_abatementplan" target="contact"/>
        <activiti:in sourceExpression="Abatement Plan" target="activityType"/>
        <activiti:in sourceExpression="An abatement plan was viewed" target="activityContent"/>
        <activiti:in sourceExpression="/contacts/${srp_abatementplan.getString('shortId')}" target="contactId"/>
      </extensionElements>
      <incoming>_3</incoming>
      <outgoing>_10</outgoing>
    </callActivity>
    <sequenceFlow id="_3" sourceRef="createSupplier" targetRef="addActivityToContact"/>
    <textAnnotation id="_5" textFormat="text/plain">
      <text>RECORD ABATEMENT PLAN</text>
    </textAnnotation>
  </process>
  <bpmndi:BPMNDiagram id="Yaoqiang_Diagram-RecordAbatementPlan" name="Untitled Diagram" resolution="96.0">
    <bpmndi:BPMNPlane bpmnElement="RecordAbatementPlan">
      <bpmndi:BPMNShape bpmnElement="createSupplier" id="Yaoqiang-createSupplier" isExpanded="false">
        <dc:Bounds height="76.0" width="110.0" x="187.59090909090912" y="145.04545454545456"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="32.955078125" width="68.0" x="208.59090909090912" y="168.56791548295456"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="_2" id="Yaoqiang-_2">
        <dc:Bounds height="32.0" width="32.0" x="66.0" y="167.04545454545456"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="18.955078125" width="108.0" x="28.0" y="207.72514204545456"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="addActivityToContact" id="Yaoqiang-addActivityToContact" isExpanded="false">
        <dc:Bounds height="76.0" width="110.0" x="384.68181818181813" y="145.04545454545456"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="32.955078125" width="83.0" x="398.18181818181813" y="168.56791548295456"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="_9" id="Yaoqiang-_9">
        <dc:Bounds height="32.0" width="32.0" x="582.2272727272726" y="167.04545454545456"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="18.955078125" width="58.0" x="569.2272727272726" y="207.72514204545456"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="_5" id="Yaoqiang-_5">
        <dc:Bounds height="55.0" width="216.0" x="66.0" y="24.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="18.955078125" width="150.0" x="66.0" y="44.0224609375"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="_10" id="Yaoqiang-_10">
        <di:waypoint x="495.0" y="183.04545454545456"/>
        <di:waypoint x="582.000064566246" y="183.04545454545456"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="18.955078125" width="6.0" x="535.500032283123" y="173.56791548295456"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="_4" id="Yaoqiang-_4">
        <di:waypoint x="97.99993543375402" y="183.04545454545456"/>
        <di:waypoint x="188.0" y="183.04545454545456"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="18.955078125" width="6.0" x="139.999967716877" y="173.56791548295456"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="_3" id="Yaoqiang-_3">
        <di:waypoint x="298.0" y="183.04545454545456"/>
        <di:waypoint x="385.0" y="183.04545454545456"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="18.955078125" width="6.0" x="338.5" y="173.56791548295456"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>
